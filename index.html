<!DOCTYPE html>
<html lang="en">

<head>
    <style>
        * {
            margin: 0;
            padding: 0;
            user-select: none;
            font-family:'Franklin Gothic Medium';
        }

        .gallose {
            background-color: black;
            position: relative;
            margin: auto;
        }

        #base {
            height: 20px;
            width: 230px;
            top: 530px;
            left: 490px;
        }

        #pole {
            height: 400px;
            width: 20px;
            top: 130px;
            left: 490px;
        }

        #topPiece {
            height: 25px;
            width: 232px;
            top: -290px;
            left: 384px;
        }

        #noose {
            height: 40px;
            width: 12px;
            top: -290px;
            left: 284px;
        }

        .man {
            background-color: black;
            position: relative;
            margin: auto;
            visibility: hidden;
        }


        #head {
            height: 100px;
            width: 100px;
            border-radius: 50%;
            background: none;
            border: 7px solid black;
            position: relative;
            top: -290px;
            left: 901px;
        }

        .eyes {
            border-radius: 50%;
            height: 10px;
            width: 10px;
            background-color: black;
            position: relative;
        }

        #rightEye {
            top: -375px;
            left: 980px;
        }

        #leftEye {
            top: -365px;
            left: 930px;
        }

        #mouth {
            height: 10px;
            width: 50px;
            left: 935px;
            bottom: 350px;
        }

        .curve {
            background-color: black;
            border-top-left-radius: 50% 50px;
            border-top-right-radius: 50% 50px;
            display: block;
        }

        #nose {
            top: -365px;
            left: 956px;
            height: 7px;
            width: 7px;
        }

        .manVisibility {
            visibility: hidden;
        }

        #body {
            height: 110px;
            width: 13px;
            top: -320px;
            left: 285px;
            transform: translateY(-13px);
        }

        .armLeg {
            background-color: black;
            position: relative;
            height: 100px;
            width: 12px;
            margin-top: 1px;
        }

        #rightArm {
            top: -430px;
            left: 315px;
            transform: rotate(-0.1turn);
        }

        #leftArm {
            top: -530px;
            left: 255px;
            transform: rotate(0.1turn);
        }

        #leftLeg {
            top: -645px;
            left: 255px;
            transform: rotate(0.1turn);
        }

        #rightLeg {
            top: -550px;
            left: 312px;
            transform: rotate(-0.1turn);
        }

        #game {
            position: relative;
            top: -600px;
        }

        .diff {
            position: relative;
            top: -450px;
            height: 50px;
            font-size: 20px;
            left: 50px;
            transition: all 0.2s;
        }

        .hoverEffect:hover {
            opacity: 0.7;
            transform: translateY(-1px);
            color: rgb(0, 255, 0);
            border: rgb(0, 199, 0);
        }

        #btn {
            width: 60px;
            margin: auto;
            cursor: pointer;
        }

        #question {
            font-size: 50px;
            position: relative;
            top: -400px;
            margin: auto;
            left: 50px;
            letter-spacing: 0.2em;
        }

        #keyboard {
            display: none;
            position: relative;
            top: -100px;
        }

        .keys {
            height: 50px;
            width: 50px;
            display: inline-block;
            font-size: 30px;
            position: relative;
            top: -200px;
            left: 50px;
            margin: 3px;
            border: 4px solid black;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .keyhover:hover {
            opacity: 0.7;
            transform: translateY(-1px);
            color: rgb(0, 255, 0);
            border: 4px solid rgb(0, 199, 0);
        }
    </style>
    <title>Hang Man</title>
</head>

<body>
    <div id="gallose">
        <div class="gallose" id="base"></div>
        <div class="gallose" id="pole"></div>
        <div class="gallose" id="topPiece"></div>
        <div class="gallose" id="noose"></div>
    </div>
    <div id="hangMan">
        <div id="head" class="manVisibility"></div>
        <div id="leftEye" class="eyes manVisibility"></div>
        <div id="rightEye" class="eyes manVisibility"></div>
        <div id="nose" class="eyes manVisibility"></div>
        <div id="mouth" class="eyes manVisibility curve"></div>
        <div class="man" id="body"></div>
        <div class="man armLeg" id="rightArm"></div>
        <div class="man armLeg" id="leftArm"></div>
        <div class="man armLeg" id="rightLeg"></div>
        <div class="man armLeg" id="leftLeg"></div>
    </div>
    <div id="game">
        <button id="btn" class="diff hoverEffect">Start</button>
        <div id="question"></div>
        <div id="keyboard">
            <button class="keys keyhover" onclick="g.check(this);">A</button>
            <button class="keys keyhover" onclick="g.check(this);">B</button>
            <button class="keys keyhover" onclick="g.check(this);">C</button>
            <button class="keys keyhover" onclick="g.check(this);">D</button>
            <button class="keys keyhover" onclick="g.check(this);">E</button>
            <button class="keys keyhover" onclick="g.check(this);">F</button>
            <button class="keys keyhover" onclick="g.check(this);">G</button>
            <button class="keys keyhover" onclick="g.check(this);">H</button>
            <button class="keys keyhover" onclick="g.check(this);">I</button>
            <button class="keys keyhover" onclick="g.check(this);">J</button>
            <br>
            <button class="keys keyhover" onclick="g.check(this);">K</button>
            <button class="keys keyhover" onclick="g.check(this);">L</button>
            <button class="keys keyhover" onclick="g.check(this);">M</button>
            <button class="keys keyhover" onclick="g.check(this);">N</button>
            <button class="keys keyhover" onclick="g.check(this);">O</button>
            <button class="keys keyhover" onclick="g.check(this);">P</button>
            <button class="keys keyhover" onclick="g.check(this);">Q</button>
            <button class="keys keyhover" onclick="g.check(this);">R</button>
            <button class="keys keyhover" onclick="g.check(this);">S</button>
            <button class="keys keyhover" onclick="g.check(this);">T</button>
            <br>
            <button class="keys keyhover" onclick="g.check(this);">U</button>
            <button class="keys keyhover" onclick="g.check(this);">V</button>
            <button class="keys keyhover" onclick="g.check(this);">W</button>
            <button class="keys keyhover" onclick="g.check(this);">X</button>
            <button class="keys keyhover" onclick="g.check(this);">Y</button>
            <button class="keys keyhover" onclick="g.check(this);">Z</button>
        </div>
    </div>
</body>
<script>
    const words = ['FLOWER', 'RABBIT', 'SQUIRREL', 'WINDOW', 'BIRTHDAY', 'BACKGROUND', 'VILLAGE', 'SAVAGE', 'DATABASE', 'CHILDREN'];
    let _randomWord = new WeakMap();
    let timesWrong = 0;
    let timesRight = 0;
    let gameDifficulty;
    class Man {
        showBodyPart(part) {
            document.getElementById(part).style.visibility = 'visible';
        }
    }
    const m = new Man;

    class Game {
        constructor() {
            _randomWord.set(this, words[Math.floor(Math.random() * words.length)]);
            this.masked = _randomWord.get(this).replace(/./g, '_');
        }

        start() {
            const randomWord = _randomWord.get(this);
            const btn = document.getElementById('btn');
            const chooseDifficulty = document.getElementById('difficulty');
            document.getElementById('question').innerHTML = this.masked;

            btn.innerHTML = 'Stop';
            btn.onclick = () => { location.reload(); };
            document.getElementById('keyboard').style.display = 'block';
            chooseDifficulty.disabled = 'true';
            chooseDifficulty.classList.remove('hoverEffect');
            // console.log(randomWord);
        }

        check(key) {
            const randomWord = _randomWord.get(this);
            // console.log(randomWord);
            const letter = key.innerHTML;
            key.classList.add('used');
            key.classList.remove('keyhover');
            key.disabled = 'true';
            key.style.cursor = 'not-allowed';
            key.style.border = 'none';

            if (randomWord.search(letter) == -1) {
                timesWrong++;
                if (timesWrong === 1)
                    m.showBodyPart('head');
                else if (timesWrong === 2)
                    m.showBodyPart('body');
                else if (timesWrong === 3)
                    m.showBodyPart('rightArm');
                else if (timesWrong === 4)
                    m.showBodyPart('leftArm');
                else if (timesWrong === 5)
                    m.showBodyPart('rightLeg');
                else if (timesWrong === 6)
                    m.showBodyPart('leftLeg');
                else if (timesWrong === 7)
                    m.showBodyPart('rightEye');
                else if (timesWrong == 8)
                    m.showBodyPart('leftEye');
                else if (timesWrong == 9)
                    m.showBodyPart('nose');
                else if (timesWrong == 10)
                    m.showBodyPart('mouth');
                else {
                    alert(`You Lost.  The word was "${randomWord}"`);
                    location.reload();
                }
            }
            for (let i = 0; i < randomWord.length; i++) {
                if (letter == randomWord.charAt(i)) {
                    this.masked = this.masked.substring(0, i) + letter + this.masked.substring(i + 1);
                    document.getElementById('question').innerHTML = this.masked;
                    setTimeout(() => {
                        timesRight++;
                        if (timesRight == randomWord.length)
                            if (confirm('You Won! Play again?'))
                                location.reload();
                    }, 500);
                }
            }
        }
    }
    const g = new Game(words);
    document.getElementById('btn').onclick = () => { g.start(); };
</script>

</html>
