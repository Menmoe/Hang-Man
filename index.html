<!DOCTYPE html>
<html lang="en">

<head>
    <style>
        * {
            margin: 0;
            padding: 0;
            user-select: none;
            font-family: 'Franklin Gothic Medium';
        }

        .gallose {
            background-color: black;
            position: relative;
            margin: auto;
        }

        #base {
            height: 20px;
            width: 230px;
            top: 530px;
            left: 490px;
        }

        #pole {
            height: 400px;
            width: 20px;
            top: 130px;
            left: 490px;
        }

        #topPiece {
            height: 25px;
            width: 232px;
            top: -290px;
            left: 384px;
        }

        #noose {
            height: 40px;
            width: 12px;
            top: -290px;
            left: 284px;
        }
        #slant {
            height: 20px;
            width: 200px;
            transform: rotate(45deg);
            left: 420px;
            top: -287px;
        }

        .man {
            background-color: black;
            position: relative;
            margin: auto;
            visibility: hidden;
        }


        #head {
            height: 100px;
            width: 100px;
            border-radius: 50%;
            background: none;
            border: 7px solid black;
            position: relative;
            top: -315px;
            left: 901px;
        }

        .eyes {
            border-radius: 50%;
            height: 10px;
            width: 10px;
            background-color: black;
            position: relative;
        }

        #rightEye {
            top: -405px;
            left: 980px;
        }

        #leftEye {
            top: -395px;
            left: 930px;
        }

        #mouth {
            height: 10px;
            width: 50px;
            left: 935px;
            bottom: 375px;
        }

        .curve {
            background-color: black;
            border-top-left-radius: 50% 50px;
            border-top-right-radius: 50% 50px;
            display: block;
        }

        #nose {
            top: -385px;
            left: 956px;
            height: 7px;
            width: 7px;
        }

        .manVisibility {
            visibility: hidden;
        }

        #body {
            height: 110px;
            width: 13px;
            top: -340px;
            left: 285px;
            transform: translateY(-13px);
        }

        .armLeg {
            background-color: black;
            position: relative;
            height: 100px;
            width: 12px;
            margin-top: 1px;
        }

        #rightArm {
            top: -450px;
            left: 315px;
            transform: rotate(-0.1turn);
        }

        #leftArm {
            top: -550px;
            left: 255px;
            transform: rotate(0.1turn);
        }

        #leftLeg {
            top: -665px;
            left: 255px;
            transform: rotate(0.1turn);
        }

        #rightLeg {
            top: -570px;
            left: 312px;
            transform: rotate(-0.1turn);
        }

        #game {
            position: relative;
            top: -600px;
        }

        .diff {
            position: relative;
            top: -450px;
            height: 50px;
            font-size: 20px;
            left: 50px;
            transition: all 0.2s;
            display: inline-block;
        }

        .hoverEffect:hover {
            opacity: 0.7;
            transform: translateY(-1px);
            color: rgb(0, 255, 0);
            border: 1px rgb(0, 199, 0);
        }

        #btn {
            width: 60px;
            margin: auto;
            cursor: pointer;
        }

        #hint {
            width: 60px;
            cursor: pointer;
            position: absolute;
            top: -457px;
            left: 150px;
        }

        #question {
            font-size: 50px;
            position: relative;
            top: -400px;
            margin: auto;
            left: 50px;
            letter-spacing: 0.2em;
        }

        #keyboard {
            display: none;
            position: relative;
            top: -100px;
        }

        .keys {
            height: 50px;
            width: 50px;
            display: inline-block;
            font-size: 30px;
            position: relative;
            top: -200px;
            left: 50px;
            margin: 3px;
            border: 4px solid black;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .keyhover:hover {
            opacity: 0.7;
            transform: translateY(-1px);
            color: rgb(0, 255, 0);
            border: 4px solid rgb(0, 199, 0);
        }
    </style>
    <title>Hang Man</title>
</head>

<body>
    <div id="gallose">
        <div class="gallose" id="base"></div>
        <div class="gallose" id="pole"></div>
        <div class="gallose" id="topPiece"></div>
        <div class="gallose" id="noose"></div>
        <div class="gallose" id="slant"></div>
    </div>
    <div id="hangMan">
        <div id="head" class="manVisibility"></div>
        <div id="leftEye" class="eyes manVisibility"></div>
        <div id="rightEye" class="eyes manVisibility"></div>
        <div id="nose" class="eyes manVisibility"></div>
        <div id="mouth" class="eyes manVisibility curve"></div>
        <div class="man" id="body"></div>
        <div class="man armLeg" id="rightArm"></div>
        <div class="man armLeg" id="leftArm"></div>
        <div class="man armLeg" id="rightLeg"></div>
        <div class="man armLeg" id="leftLeg"></div>
    </div>
    <div id="game">
        <button id="btn" class="diff hoverEffect">Start</button>
        <div id="question"></div>
        <div id="keyboard">
            <button id="a" class="keys keyhover" onclick="g.check(this);">A</button>
            <button id="b" class="keys keyhover" onclick="g.check(this);">B</button>
            <button id="c" class="keys keyhover" onclick="g.check(this);">C</button>
            <button id="d" class="keys keyhover" onclick="g.check(this);">D</button>
            <button id="e" class="keys keyhover" onclick="g.check(this);">E</button>
            <button id="f" class="keys keyhover" onclick="g.check(this);">F</button>
            <button id="g" class="keys keyhover" onclick="g.check(this);">G</button>
            <button id="h" class="keys keyhover" onclick="g.check(this);">H</button>
            <button id="i" class="keys keyhover" onclick="g.check(this);">I</button>
            <button id="j" class="keys keyhover" onclick="g.check(this);">J</button>
            <br>
            <button id="k" class="keys keyhover" onclick="g.check(this);">K</button>
            <button id="l" class="keys keyhover" onclick="g.check(this);">L</button>
            <button id="m" class="keys keyhover" onclick="g.check(this);">M</button>
            <button id="n" class="keys keyhover" onclick="g.check(this);">N</button>
            <button id="o" class="keys keyhover" onclick="g.check(this);">O</button>
            <button id="p" class="keys keyhover" onclick="g.check(this);">P</button>
            <button id="q" class="keys keyhover" onclick="g.check(this);">Q</button>
            <button id="r" class="keys keyhover" onclick="g.check(this);">R</button>
            <button id="s" class="keys keyhover" onclick="g.check(this);">S</button>
            <button id="t" class="keys keyhover" onclick="g.check(this);">T</button>
            <br>
            <button id="u" class="keys keyhover" onclick="g.check(this);">U</button>
            <button id="v" class="keys keyhover" onclick="g.check(this);">V</button>
            <button id="w" class="keys keyhover" onclick="g.check(this);">W</button>
            <button id="x" class="keys keyhover" onclick="g.check(this);">X</button>
            <button id="y" class="keys keyhover" onclick="g.check(this);">Y</button>
            <button id="z" class="keys keyhover" onclick="g.check(this);">Z</button>
            <button id="hint" class="diff hoverEffect" onclick="g.showHint();">Hint</button>
        </div>
    </div>
</body>
<script>
    const words = [
        { hint: 'Animal', value: ['MOUSE', 'DOLPHIN', 'ELEPHANT', 'KOALA', 'GIRAFFE', 'RHINOCEROS'] },
        { hint: 'Street', value: ['TRAFFIC', 'MAIL BOX', 'LAMPPOST', 'STREET SIGN', 'BLOCK', 'CROSSWALK'] },
        { hint: 'Coding Languages', value: ['HTML', 'JAVASCRIPT', 'PYTHON', 'BINARY', 'C-SHARP', 'JAVA'] },
    ];
    let _randomWord = new WeakMap();
    let _randomHint = new WeakMap();
    let timesWrong = 0;
    let gameDifficulty;

    class Man {
        showBodyPart(part) {
            document.getElementById(part).style.visibility = 'visible';
        }
    }
    const m = new Man;

    class Game {
        constructor() {
            _randomHint.set(this, words[Math.floor(Math.random() * words.length)])
            _randomWord.set(this, _randomHint.get(this).value[Math.floor(Math.random() * 6)]);
            this.masked = _randomWord.get(this).replace(/[a-z]/ig, '_');
        }

        start() {
            const randomWord = _randomWord.get(this);
            const btn = document.getElementById('btn');
            const chooseDifficulty = document.getElementById('difficulty');
            document.getElementById('question').innerHTML = this.masked;

            btn.innerHTML = 'Stop';
            btn.onclick = () => { location.reload(); };
            document.getElementById('keyboard').style.display = 'block';

            console.log(randomWord);
        }

        showHint() {
            alert(`Your Hint is "${_randomHint.get(this).hint}"! Good Luck!`);
        }

        check(key) {
            const randomWord = _randomWord.get(this);
            const letter = key.innerHTML;
            key.classList.add('used');
            key.classList.remove('keyhover');
            key.disabled = 'true';
            key.style.cursor = 'not-allowed';
            key.style.border = 'none';

            if (randomWord.search(letter) == -1) {
                timesWrong++;
                if (timesWrong === 1)
                    m.showBodyPart('head');
                else if (timesWrong === 2)
                    m.showBodyPart('body');
                else if (timesWrong === 3)
                    m.showBodyPart('rightArm');
                else if (timesWrong === 4)
                    m.showBodyPart('leftArm');
                else if (timesWrong === 5)
                    m.showBodyPart('rightLeg');
                else if (timesWrong === 6)
                    m.showBodyPart('leftLeg');
                else if (timesWrong === 7)
                    m.showBodyPart('rightEye');
                else if (timesWrong == 8)
                    m.showBodyPart('leftEye');
                else if (timesWrong == 9)
                    m.showBodyPart('nose');
                else if (timesWrong == 10)
                    m.showBodyPart('mouth');
                else {
                    alert(`You Lost.  The word was "${randomWord}"`);
                    location.reload();
                }
            }
            for (let i = 0; i < randomWord.length; i++) {
                if (letter == randomWord.charAt(i)) {
                    this.masked = this.masked.substring(0, i) + letter + this.masked.substring(i + 1);
                    document.getElementById('question').innerHTML = this.masked;
                    setTimeout(() => {
                        if (this.masked.search('_') == -1)
                            if (confirm('You Won! Play again?'))
                                location.reload();
                    }, 50);
                }
            }
        }
    }
    const g = new Game;

    document.getElementById('btn').onclick = () => { g.start(); };

    document.addEventListener('keydown', event => {
        console.log(event.key);
        document.getElementById(event.key).click();
    });
</script>

</html>
